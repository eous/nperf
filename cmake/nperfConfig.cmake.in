@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

# Find required dependencies
find_dependency(CUDAToolkit REQUIRED)

# Find NCCL and NVML using our custom modules
list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}")
find_dependency(NCCL REQUIRED)
find_dependency(NVML REQUIRED)

# Optional MPI dependency
if(@NPERF_BUILD_MPI@)
    find_dependency(MPI REQUIRED)
endif()

# Include the targets file
include("${CMAKE_CURRENT_LIST_DIR}/nperfTargets.cmake")

check_required_components(nperf)
